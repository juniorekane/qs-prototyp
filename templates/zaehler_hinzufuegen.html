<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Neuen Zähler hinzufügen</title>
</head>
<body>
    <h1>Neuen Zähler hinzufügen</h1>

    <form method="POST">
        <label>Gebäude auswählen:</label>
        <select id="gebaeude_select" name="gebaeude_id" required>
            <option value="" selected disabled>-- Gebäude wählen --</option>
            {% for g in gebaeude %}
                <option value="{{ g.id }}">{{ g.name }} ({{ g.adresse }})</option>
            {% endfor %}
        </select>
        <br>

        <!-- Automatisch gesetzte Gebäude-ID (hidden) -->
        <input type="hidden" name="gebaeude_id" id="gebaeude_id_field">

        <label>Zählertyp:</label>
        <select name="typ">
            <option value="Strom">Strom</option>
            <option value="Gas">Gas</option>
            <option value="Wasser">Wasser</option>
        </select>
        <br>

        <button type="submit">Speichern</button>
    </form>

    <a href="/zaehler">Zurück</a>

    <!-- JavaScript: Automatische Gebäude-ID-Übertragung -->
    <script>
        document.getElementById("gebaeude_select").addEventListener("change", function() {
            document.getElementById("gebaeude_id_field").value = this.value;
        });
    </script>
</body>
</html>
